---
layout: default
---

<div class="tabs">
    <button class="tab-button active" data-tab="all">All</button>
    <button class="tab-button" data-tab="essays">Essays</button>
    <button class="tab-button" data-tab="engineering">Engineering</button>
    <button class="tab-button" data-tab="reflections">Reflections</button>
    <button class="tab-button" data-tab="journals">Journal</button>
</div>

<div class="post-list">
    <!-- Essays -->
    {% for post in site.essays %}
    <div class="post-item" data-category="essays">
        <span class="post-meta">{{ post.date | date: "%b %d" }}</span>
        <a href="{{ post.url }}">{{ post.title }}</a>
        <span class="category-label" data-tab="essays">Essay</span>
    </div>
    {% endfor %}

    <!-- Engineering -->
    {% for post in site.engineering %}
    <div class="post-item" data-category="engineering">
        <span class="post-meta">{{ post.date | date: "%b %d" }}</span>
        <a href="{{ post.url }}">{{ post.title }}</a>
        <span class="category-label" data-tab="engineering">Engineering</span>
    </div>
    {% endfor %}

    <!-- Reflections -->
    {% for post in site.reflections %}
    <div class="post-item" data-category="reflections">
        <span class="post-meta">{{ post.date | date: "%b %d" }}</span>
        <a href="{{ post.url }}">{{ post.title }}</a>
        <span class="category-label" data-tab="reflections">Reflection</span>
    </div>
    {% endfor %}

    <!-- Journals -->
    {% for post in site.journals %}
    <div class="post-item" data-category="journals">
        <span class="post-meta">{{ post.date | date: "%b %d" }}</span>
        <a href="{{ post.url }}">{{ post.title }}</a>
        <span class="category-label" data-tab="journals">Journal</span>
    </div>
    {% endfor %}
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const tabs = document.querySelectorAll('.tab-button');
        const posts = document.querySelectorAll('.post-item');
        const labels = document.querySelectorAll('.category-label');

        // Filter function
        function filterByCategory(category) {
            tabs.forEach(t => t.classList.remove('active'));
            const activeTab = document.querySelector(`.tab-button[data-tab="${category}"]`);
            if (activeTab) activeTab.classList.add('active');

            posts.forEach(post => {
                const postCategory = post.getAttribute('data-category');
                const label = post.querySelector('.category-label');

                if (category === 'all') {
                    post.style.display = 'flex';
                    if (label) label.style.display = 'inline-block';
                } else {
                    if (postCategory === category) {
                        post.style.display = 'flex';
                        if (label) label.style.display = 'none';
                    } else {
                        post.style.display = 'none';
                    }
                }
            });
        }

        // Tab click handler
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                filterByCategory(tab.getAttribute('data-tab'));
            });
        });

        // Category label click handler
        labels.forEach(label => {
            label.addEventListener('click', (e) => {
                e.stopPropagation(); // Prevent bubbling to post-item link
                filterByCategory(label.getAttribute('data-tab'));
            });
        });
    });
</script>